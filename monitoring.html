<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Monitoring ‚Äî CHICKENARIUM</title>
  
  <link rel="stylesheet" href="css/Navbar.css" />
  <link rel="stylesheet" href="css/monitoring.css" /> 
  
  <style>
    /* CSS FOR STATUS COLORS & ANIMATIONS */
    .text-critical { color: red; font-weight: bold; }
    .text-warning { color: orange; font-weight: bold; }
    .text-healthy { color: green; font-weight: bold; }
    
    /* Farm Status Banner */
    .status-banner { padding: 15px; background: #d4edda; color: #155724; border: 1px solid #c3e6cb; border-radius: 5px; margin-bottom: 20px; font-weight: bold; text-align: center; transition: all 0.3s ease; }
    .status-banner.critical { background: #f8d7da; color: #721c24; border-color: #f5c6cb; animation: pulseRed 1s infinite; }
    .status-banner.warning { background: #fff3cd; color: #856404; border-color: #ffeeba; }
    
    /* ZONE GRID */
    .zone-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 10px; }
    .zone { 
        border: 2px solid #ddd; padding: 20px; text-align: center; font-weight: bold; border-radius: 8px; background: #f9f9f9; transition: 0.3s; 
    }

    /* ACTIVE ZONES */
    .zone.active-warning { 
        background-color: #ffc107 !important; color: #000 !important; border-color: #e0a800 !important; 
    }
    .zone.active-critical { 
        background-color: #dc3545 !important; color: white !important; border-color: #bd2130 !important; 
        animation: blinkZone 1s infinite; box-shadow: 0 0 15px rgba(220, 53, 69, 0.6);
    }

    @keyframes blinkZone {
        0% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
        100% { opacity: 1; transform: scale(1); }
    }
    
    /* Video Wrapper Fix */
    .video-wrapper {
        width: 100%;
        background: #000;
        border-radius: 8px;
        overflow: hidden;
        border: 2px solid #333;
        min-height: 300px; /* Para may pwesto kahit loading pa */
        display: flex;
        justify-content: center;
        align-items: center;
    }
  </style>
</head>

<body>

<header class="topnav">
  <div class="container nav-inner">
    <a class="brand" href="Fpage.html">üêî CHICKENARIUM</a>
    <button id="menuBtn" class="menu-btn">‚ò∞</button>
    <nav id="siteNav" class="nav-links">
      <a href="Fpage.html">Home</a>
      <a href="monitoring.html" class="active">Monitoring</a>
      <a href="history.html">History</a>
      <a href="farm.html">Farm</a>
      <a href="settings.html">Settings</a>
    </nav>
  </div>
</header>

<main class="container">
  <h1>Monitoring Dashboard</h1>

  <div class="video-container">
    <div class="video-wrapper">
      <img src="http://127.0.0.1:5001/video_feed" 
           style="width:100%; height:auto; display:block;" 
           alt="Connecting to Camera (Check Python Terminal)...">
    </div>
    <p style="font-size:0.9rem;color:#666;margin-top:8px">
      <span style="color:red; animation: blink 1s infinite;">‚óè</span> Live Stream (Grid Overlay Active)
    </p>
  </div>

  <div class="zone-wrapper">
    <strong>Detected Sound Location</strong>
    <div class="zone-grid">
      <div class="zone" id="A">A</div>
      <div class="zone" id="B">B</div>
      <div class="zone" id="C">C</div>
      <div class="zone" id="D">D</div>
      <div class="zone" id="E">E</div>
      <div class="zone" id="F">F</div>
      <div class="zone" id="G">G</div>
      <div class="zone" id="H">H</div>
      <div class="zone" id="I">I</div>
    </div>
  </div>

  <div id="farmStatus" class="status-banner">
    Farm Status: Waiting for data...
  </div>

  <table>
    <thead>
      <tr>
        <th>Time</th>
        <th>Zone</th>
        <th>Status</th>
        <th>Remarks</th>
      </tr>
    </thead>
    <tbody id="monitoringBody">
      <tr>
        <td colspan="4" style="text-align:center;color:#888; padding: 20px;">
          Initializing System...
        </td>
      </tr>
    </tbody>
  </table>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <p>¬© CHICKENARIUM ‚Äî Research project on Poultry Health Monitoring.</p>
  </div>
</footer>

<script src="js/monitoring.js"></script>

</body>
</html>